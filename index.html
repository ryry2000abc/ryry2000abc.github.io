<DOCTYPE HTML>
<title>An Olympic Timeline</title>
<h1>
The Olympics: A Historical Timeline
</h1>
 
<script src="https://d3js.org/d3.v3.min.js"></script>
<link rel="stylesheet" href="indexstyle.css">
<svg id="canvas"  height="600px" width = "1200px"> </svg>
 <text>
   Bottom Text
  </text>
<script>


d3.csv("summeroly.csv", function(data){
  console.log(data);
  var year = d3.select("svg")
      .selectAll("g")
          .data(data)
          .enter()
          .append("g")
              .attr("class", "year")
              .attr("transform", function(d){
                    var xPosition = d.number * 50;
                    var yPosition = 50;
                    if ((xPosition + 20) > 1200 )
                    {
                      xPosition = (xPosition % 1200) + 100; 
                      yPosition = 200;
                    }
                    return "translate(" + xPosition + "," + yPosition + ")";
               })
          .on("mouseover", function(d){
                 d3.select(this)
                    .select("circle")
                    .attr("fill", "#FFF");
              })
          .on("mouseout", function(d)
              {
                if (d.year == 1916 || d.year == 1940 || d.year == 1944)  
                {
                   d3.select(this)
                    .select("circle")
                    .attr("fill", "#F52D19")
                }
                else
                {
                    d3.select(this)
                    .select("circle")
                    .attr("fill", "#0D5EC2")
                }
            
              })
           .on("click", function(d)
               {
                   window.open("https://ryry2000abc.github.io/" + d.year + ".html");
               })
          /*.on("mouseout", 
          d3.select(this)
            .select("circle")
            .attr("fill", function(d)
            {
                if (d.year == 1916 || d.year == 1940 || d.year == 1944)  
                {
                  return "#F52D19";
                }
                else
                {
                  return "#0D5EC2";
                }
             })
          )*/
              
  year.append("circle")
      .attr("r", function(d)
            {
             return (d.importance / 10)*10 + 10;
           
            })
      .attr("fill", function(d)
            {
                if (d.year == 1916 || d.year == 1940 || d.year == 1944)  
                {
                  return "#F52D19"
                }
                else
                {
                  return "#0D5EC2"
                }
             })
  year.append("text")
      .attr("class", "date")
      .attr("y", function(d){
    if(d.number % 2 != 0)
    {
    return "-20";
    }
    else
    {
        return "40";
    }
  })
      .attr("x", "-20")
      .attr("font", "Courier")
      .attr("font-size", "24px")
      .attr("fill", "#333")
          .text(function(d)        
    {
      return d.year;
    })
});
</script>
  
yo
</HTML>
